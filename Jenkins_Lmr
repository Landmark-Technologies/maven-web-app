pipeline {

    agent any
    environment {
        NEW_VERSION = '1.0.0'
        SERVER_CREDENTIALS = credentials('server-credentials')
    }

    stages {

        stage('build'){
      
            steps {
                echo 'building the application'
                echo "building version ${NEW_VERSION}"
	}
  }
  
        stage('Test') {
            when {
                expression {
                    BRANCH_NAME == 'DEV'
                }
            }	    

             steps {
                 echo 'testing the application'
       }
  }
        stage('Deploy'){

             steps {
                 echo 'deploy the application'

         }
     }
      /*post {
         always {

               echo 'always send notification to developers'
         }
         falure {

         }
         success{

         }
     }*/
    
    }
 
}
